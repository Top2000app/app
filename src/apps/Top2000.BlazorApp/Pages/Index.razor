@page "/"
@using Top2000.BlazorApp.Services
@inject NavigationManager Nav
@inject TrackService TrackService

<PageTitle>Top2000 - Loading...</PageTitle>

<div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
    <div class="text-center">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
        </div>
        <h4 class="mt-3">Loading Top 2000 Data...</h4>
        <p class="text-muted">Please wait while we load the latest edition data.</p>
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        var latestYear = TrackService.LatestEdition;
        Nav.NavigateTo($"/{latestYear}", replace: true);
    }
}