@page "/"
@inject NavigationManager Nav
@inject Top2000Services Top2000Services

<PageTitle>Top2000 - Loading...</PageTitle>

<div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
    <div class="text-center">
        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
        </div>
        <h4 class="mt-3">Loading Top 2000 Data...</h4>
        <p class="text-muted">Please wait while we load the latest edition data.</p>
    </div>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        var editions = await Top2000Services.AllEditionsAsync();
        
        Nav.NavigateTo($"/{editions.First().Year}", replace: true);
    }
}